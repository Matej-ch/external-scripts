"use strict";window.addEventListener("DOMContentLoaded",function(){function a(a){var b=a.getBoundingClientRect();return 0<=b.top&&0<=b.left&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth)}var b=0,c=0;if(document.querySelector(".product-detail-container")){var d=function(){document.getElementById("detail_src_magnifying_small")&&(document.querySelector(".img-sticky img").src=document.getElementById("detail_src_magnifying_small").src),document.querySelector(".name-sticky").innerText=document.querySelector("h1").innerText,document.querySelector(".price-sticky .price_no_vat-sticky").innerText=document.querySelector(".price-novat").innerText,document.querySelector(".price-sticky .price_vat-sticky").innerText=document.querySelector(".price-vat .price-value.def_color").innerText,document.getElementById("buy_btn_container-sticky").appendChild(document.querySelector(".cart-info-btn").cloneNode(!0)),document.querySelector(".basket-sticky").appendChild(document.getElementById("basket_icon").cloneNode(!0)),document.querySelector(".affix-sticky__container").classList.add("affix")},e=document.getElementById("product-detail-script"),f=e.getAttribute("data-url"),g=e.getAttribute("data-base-url"),h="",i=document.querySelector("input[name='number']"),j=document.querySelector(".price-value.def_color.product-stock-value"),k=document.querySelector(".fright.textright");if(i.length){i=i.value,document.querySelector(".before_variants.stock-line.stock-line-")&&document.querySelector(".before_variants.stock-line.stock-line-").remove(),h=i.trim();var l=encodeURIComponent(i)}var m=!1;h&&fetch(f+l).then(function(a){return a.json()}).then(function(a){j.querySelector("span").remove();var d=a[h];if(void 0===d&&(d=a[h.toUpperCase()]),b=d.supp_availability,0<d.disposition&&5>=d.disposition)j.innerHTML=d.disposition+"ks - Expedujeme ihne\u010F <div class=\"info-about-delivery\"><a href=\"#\"> Viac o dostupnosti ? </a></div>",j.style.fontSize="18px",j.style.color="#155724",j.style.backgroundColor="#d4edda";else if(5<d.disposition)c=d.disposition,j.innerHTML="Na sklade > 5ks - Expedujeme ihne\u010F <div class=\"info-about-delivery\"><a href=\"#\"> Viac o dostupnosti ?  </a></div>",j.style.fontSize="18px",j.style.color="#155724",j.style.backgroundColor="#d4edda";else if(5>=d.disposition&&"undefined"!=typeof d.allStorages&&"undefined"!=typeof d.allStorages[6]&&0<d.allStorages[6].disposable_quantity)j.innerHTML="Dostupn\xE9 Showroom Liptovsk\xFD Mikul\xE1\u0161 - expedovanie v nasleduj\xFAci pracovn\xFD de\u0148",j.style.fontSize="18px",j.style.color="#155724",j.style.backgroundColor="#d4edda";else if(5>=d.disposition&&"undefined"!=typeof d.allStorages&&"undefined"!=typeof d.allStorages[5]&&0<d.allStorages[5].disposable_quantity){var e=d.allStorages[5].disposable_quantity,f="";f=0<e&&5>=e?"Na sklade "+e+"ks":"Na sklade > 5ks",j.innerHTML=f,j.style.fontSize="18px",j.style.color="#155724",j.style.backgroundColor="#d4edda"}else{var i=parseInt(d.disp_status_flag),l=parseInt(d.disp_status);if(0===l||9===l)5<parseInt(d.supp_availability)?(j.innerHTML=d.disp_status_text+" <div class=\"info-about-delivery\"><a href=\"#\" data-text=\""+d.disp_status_description+"\"> Viac o dostupnosti ? </a></div>",j.style.fontSize="18px",j.style.color="#155724",j.style.backgroundColor="#d4edda",m=!1):(j.innerHTML="Tovar je aktu\xE1lne nedostupn\xFD. Dotazuj dostupnos\u0165. <div class=\"info-about-delivery\"><a href=\"#\" data-text=\"Tento tovar nie je dostupn\xFD na na\u0161om sklade ani na sklade dod\xE1vate\u013Ea. V pr\xEDpade z\xE1ujmu n\xE1m odo\u0161lite dotaz,  informujeme V\xE1s o dostupnosti pr\xEDpadne V\xE1m pon\xFAkneme vhodn\xFA variantu.\"> Viac o dostupnosti ? </a></div>",j.style.fontSize="18px",m=!0);else if(2===i){m=!1;var q=d.disp_status_text;d.disp_status_description&&(q+=" <div class=\"info-about-delivery\"><a href=\"#\"  data-text=\""+d.disp_status_description+"\"> Viac o dostupnosti ? </a></div>"),j.innerHTML=q,j.style.fontSize="18px"}else if(3===i){m=!0;var r=d.disp_status_text;d.disp_status_description&&(r+=" <div class=\"info-about-delivery\"><a href=\"#\" data-text=\""+d.disp_status_description+"\"> Viac o dostupnosti ? </a></div>"),j.innerHTML=r,j.style.fontSize="18px"}if(m){var n=document.getElementById("kusy"),o=document.getElementById("buy_btn"),p=document.querySelector(".product-cart-info-value");if(n&&(n.style.display="none"),o&&o.remove(),p&&p.querySelector(".count")&&p.querySelector(".count").remove(),k){var s=document.createElement("a");s.setAttribute("href","".concat(g,"/geko/5-ZAKAZNICKA-PODPORA/4-Poslat-otazku-predajcovi")),s.innerHTML="<input type=\"button\" class=\"question_btn_custom\" id=\"buy_btn\" name=\"question_sbmt\" value=\"Dotaz\">",k.appendChild(s)}}}})["catch"](function(a){return console.error("Error loading product stock data: ",a)}),h&&fetch("https://api.ipify.org?format=jsonp&callback=?").then(function(a){return a.json()}).then(function(a){var b=a.ip,c="URL HERE"+h+"&ip="+b+"&country="+"SK"+"&eshopID=1";fetch(c)})["catch"](function(a){return console.error("Get ip from ipify: ",a)});var n=document.getElementById("stars_main").dataset.productId,o=e.getAttribute("data-cat-url");fetch(o+n).then(function(a){return a.json()}).then(function(a){if(!0===a.success&&a.categories){var b=" |  <a href=\""+g+"/geko\">\xDAvod</a> <span class=\"arrow\">\xBB</span> ";a.categories.forEach(function(a){b+="<a href=\""+a.full_url+"\">"+a.catName+"</a> <span class=\"arrow\">\xBB</span> "});var c=document.querySelector("#wherei p");c.querySelector(".active")&&(b+="<span class=\"active\">"+c.querySelector(".active").innerHTML+"</span>"),c&&c.appendChild(b)}})["catch"](function(a){return console.error("Error fetching product categories",a)}),document.querySelector("body").addEventListener("click",function(a){if(a.target.classList.contains("info-about-delivery")){var d=a.target.querySelector("a");if(d.preventDefault(),!document.querySelector("td#js-custom-cell")){var e="";"text"in d.dataset?e=d.dataset.text:(e="Plat\xED pre objedn\xE1vky ktor\xE9 obsahuj\xFA v\u0161etky produkty s inform\xE1ciou expedujeme ihne\u010F.<br>",0<c&&20>=c?e+="<p style=\"padding-bottom:10px;padding-top:10px;\">Dostupnos\u0165 u n\xE1s "+c+"ks</p>":20<c&&(e+="<p style=\"padding-bottom:10px;padding-top:10px;\">Dostupnos\u0165 u n\xE1s > 20ks</p>"),0<b&&20>=b?e+="<p style=\"padding-bottom:10px;padding-top:10px;\">Posledn\xE1 Dostupnos\u0165 u dod\xE1vate\u013Ea "+b+"ks</p>":20<b&&(e+="<p style=\"padding-bottom:10px;padding-top:10px;\">Posledn\xE1 dostupnos\u0165 u dod\xE1vate\u013Ea > 20ks</p>"),e+="<a href=\""+g+"/geko/5-ZAKAZNICKA-PODPORA/4-Poslat-otazku-predajcovi\" target=\"_blank\">Pre inform\xE1cie o objednan\xED viac ako 20 kusov n\xE1s kontaktuje</a>");var f=document.createElement("tr");f.classList.add("before_variants"),f.innerHTML="</td><td colspan=\"3\" width=\"65%\" style=\"background-color:#cce5ff;color:#004085;font-weight:bold;\" id=\"js-custom-cell\">"+e+"</td>",d.parentElement.parentElement.parentElement.parentElement.appendChild(f)}}}),window.location.href!=="".concat(g,"/")&&window.location.href!=="".concat(g)&&(document.querySelector("#expandableMenu .root-eshop-menu > .sub").style.display="block");var p=document.querySelector("table.cart tr.stock-line-stock_no"),q=document.querySelector("table.cart tr.stock-line-stock_yes"),r=document.querySelector(".div.box-spc>div.stock_no");r&&r.remove(),p&&p.remove(),q&&q.remove();var s=!1,t=document.querySelector(".product-cart-info-value .cart-info-btn"),u=document.querySelector(".affix-sticky__container");window.addEventListener("scroll",function(){a(t)||s?a(t)&&u.classList.contains("affix")&&(document.querySelector("#buy_btn_container-sticky .cart-info-btn").remove(),document.querySelector(".basket-sticky #basket_icon").remove(),document.querySelector(".affix-sticky__container").classList.remove("affix"),s=!1):(d(),s=!0)}),document.querySelector("body").addEventListener("click",function(a){if("buy_btn"===a.target.id&&"buy_btn_container-sticky"===a.target.parentElement.parentElement.id){var b=document.querySelector(".product-price-box .product-cart-btn");b&&b.click()}}),document.querySelector("body").addEventListener("touchend",function(a){if("buy_btn"===a.target.id&&"buy_btn_container-sticky"===a.target.parentElement.parentElement.id){var b=document.querySelector(".product-price-box .product-cart-btn");b&&b.click()}})}});