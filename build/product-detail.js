"use strict";window.addEventListener("DOMContentLoaded",function(){var a=0,b=0;if(document.querySelector(".product-detail-container")){var c="",d=document.querySelector("input[name='number']"),e=document.querySelector(".price-value.def_color.product-stock-value"),f=document.querySelector(".fright.textright");if(d.length){d=d.value,document.querySelector(".before_variants.stock-line.stock-line-")&&document.querySelector(".before_variants.stock-line.stock-line-").remove(),c=d.trim();var g=encodeURIComponent(d)}var h=!1;c&&fetch("URL_HERE"+g).then(function(a){return a.json()}).then(function(d){e.querySelector("span").remove();var g=d[c];if(void 0===g&&(g=d[c.toUpperCase()]),a=g.supp_availability,0<g.disposition&&5>=g.disposition)e.innerHTML=g.disposition+"ks - Expedujeme ihne\u010F <div class=\"info-about-delivery\"><a href=\"#\"> Viac o dostupnosti ? </a></div>",e.style.fontSize="18px",e.style.color="#155724",e.style.backgroundColor="#d4edda";else if(5<g.disposition)b=g.disposition,e.innerHTML="Na sklade > 5ks - Expedujeme ihne\u010F <div class=\"info-about-delivery\"><a href=\"#\"> Viac o dostupnosti ?  </a></div>",e.style.fontSize="18px",e.style.color="#155724",e.style.backgroundColor="#d4edda";else if(5>=g.disposition&&"undefined"!=typeof g.allStorages&&"undefined"!=typeof g.allStorages[6]&&0<g.allStorages[6].disposable_quantity)e.innerHTML="Dostupn\xE9 Showroom Liptovsk\xFD Mikul\xE1\u0161 - expedovanie v nasleduj\xFAci pracovn\xFD de\u0148",e.style.fontSize="18px",e.style.color="#155724",e.style.backgroundColor="#d4edda";else if(5>=g.disposition&&"undefined"!=typeof g.allStorages&&"undefined"!=typeof g.allStorages[5]&&0<g.allStorages[5].disposable_quantity){var i=g.allStorages[5].disposable_quantity,j="";j=0<i&&5>=i?"Na sklade "+i+"ks":"Na sklade > 5ks",e.innerHTML=j,e.style.fontSize="18px",e.style.color="#155724",e.style.backgroundColor="#d4edda"}else{var k=parseInt(g.disp_status_flag),l=parseInt(g.disp_status);if(0===l||9===l)5<parseInt(g.supp_availability)?(e.innerHTML=g.disp_status_text+" <div class=\"info-about-delivery\"><a href=\"#\" data-text=\""+g.disp_status_description+"\"> Viac o dostupnosti ? </a></div>",e.style.fontSize="18px",e.style.color="#155724",e.style.backgroundColor="#d4edda",h=!1):(e.innerHTML="Tovar je aktu\xE1lne nedostupn\xFD. Dotazuj dostupnos\u0165. <div class=\"info-about-delivery\"><a href=\"#\" data-text=\"Tento tovar nie je dostupn\xFD na na\u0161om sklade ani na sklade dod\xE1vate\u013Ea. V pr\xEDpade z\xE1ujmu n\xE1m odo\u0161lite dotaz,  informujeme V\xE1s o dostupnosti pr\xEDpadne V\xE1m pon\xFAkneme vhodn\xFA variantu.\"> Viac o dostupnosti ? </a></div>",e.style.fontSize="18px",h=!0);else if(2===k){h=!1;var p=g.disp_status_text;g.disp_status_description&&(p+=" <div class=\"info-about-delivery\"><a href=\"#\"  data-text=\""+g.disp_status_description+"\"> Viac o dostupnosti ? </a></div>"),e.innerHTML=p,e.style.fontSize="18px"}else if(3===k){h=!0;var q=g.disp_status_text;g.disp_status_description&&(q+=" <div class=\"info-about-delivery\"><a href=\"#\" data-text=\""+g.disp_status_description+"\"> Viac o dostupnosti ? </a></div>"),e.innerHTML=q,e.style.fontSize="18px"}if(h){var m=document.getElementById("kusy"),n=document.getElementById("buy_btn"),o=document.querySelector(".product-cart-info-value");if(m&&(m.style.display="none"),n&&n.remove(),o&&o.querySelector(".count")&&o.querySelector(".count").remove(),f){var r=document.createElement("a");r.setAttribute("href","https://www.mojadielna.sk/geko/5-ZAKAZNICKA-PODPORA/4-Poslat-otazku-predajcovi"),r.innerHTML="<input type=\"button\" class=\"question_btn_custom\" id=\"buy_btn\" name=\"question_sbmt\" value=\"Dotaz\">",f.appendChild(r)}}}})["catch"](function(a){return console.error("Error loading product stock data: ",a)}),c&&fetch("https://api.ipify.org?format=jsonp&callback=?").then(function(a){return a.json()}).then(function(a){var b=a.ip,d="URL HERE"+c+"&ip="+b+"&country="+"SK"+"&eshopID=1";fetch(d)})["catch"](function(a){return console.error("Get ip from ipify: ",a)});var l=document.getElementById("stars_main").dataset.productId;fetch("URL FOR CATEGORIES HERE"+l).then(function(a){return a.json()}).then(function(a){if(!0===a.success&&a.categories){var b=" |  <a href=\"//www.mojadielna.sk/geko\">\xDAvod</a> <span class=\"arrow\">\xBB</span> ";a.categories.forEach(function(a){b+="<a href=\""+a.full_url+"\">"+a.catName+"</a> <span class=\"arrow\">\xBB</span> "});var c=document.querySelector("#wherei p");c.querySelector(".active")&&(b+="<span class=\"active\">"+c.querySelector(".active").innerHTML+"</span>"),c&&c.appendChild(b)}})["catch"](function(a){return console.error("Error fetching product categories",a)}),document.querySelector("body").addEventListener("click",function(c){if(c.target.classList.contains("info-about-delivery")){var d=c.target.querySelector("a");if(d.preventDefault(),!document.querySelector("td#js-custom-cell")){var e="";"text"in d.dataset?e=d.dataset.text:(e="Plat\xED pre objedn\xE1vky ktor\xE9 obsahuj\xFA v\u0161etky produkty s inform\xE1ciou expedujeme ihne\u010F.<br>",0<b&&20>=b?e+="<p style=\"padding-bottom:10px;padding-top:10px;\">Dostupnos\u0165 u n\xE1s "+b+"ks</p>":20<b&&(e+="<p style=\"padding-bottom:10px;padding-top:10px;\">Dostupnos\u0165 u n\xE1s > 20ks</p>"),0<a&&20>=a?e+="<p style=\"padding-bottom:10px;padding-top:10px;\">Posledn\xE1 Dostupnos\u0165 u dod\xE1vate\u013Ea "+a+"ks</p>":20<a&&(e+="<p style=\"padding-bottom:10px;padding-top:10px;\">Posledn\xE1 dostupnos\u0165 u dod\xE1vate\u013Ea > 20ks</p>"),e+="<a href=\"https://www.mojadielna.sk/geko/5-ZAKAZNICKA-PODPORA/4-Poslat-otazku-predajcovi\" target=\"_blank\">Pre inform\xE1cie o objednan\xED viac ako 20 kusov n\xE1s kontaktuje</a>");var f=document.createElement("tr");f.classList.add("before_variants"),f.innerHTML="</td><td colspan=\"3\" width=\"65%\" style=\"background-color:#cce5ff;color:#004085;font-weight:bold;\" id=\"js-custom-cell\">"+e+"</td>",d.parentElement.parentElement.parentElement.parentElement.appendChild(f)}}}),"https://www.mojadielna.sk/"!==window.location.href&&"https://www.mojadielna.sk"!==window.location.href&&(document.querySelector("#expandableMenu .root-eshop-menu > .sub").style.display="block");var i=document.querySelector("table.cart tr.stock-line-stock_no"),j=document.querySelector("table.cart tr.stock-line-stock_yes"),k=document.querySelector(".div.box-spc>div.stock_no");k&&k.remove(),i&&i.remove(),j&&j.remove()}});