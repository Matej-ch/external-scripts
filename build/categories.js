"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),_asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));window.addEventListener("DOMContentLoaded",function(){function a(){return b.apply(this,arguments)}function b(){return b=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function b(a){var c,d,e,f=arguments;return _regenerator["default"].wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c=1<f.length&&void 0!==f[1]?f[1]:0,d=g+a.join("&")+"&isWebareal=".concat(c),e={error:0,data:null,success:!1},b.next=5,fetch(d).then(function(a){return a.json()}).then(function(a){e={error:0,data:a,success:!0}})["catch"](function(a){console.log("Error in loadProductData",a),e={error:1,data:null,success:!1}});case 5:return b.abrupt("return",e);case 6:case"end":return b.stop();}},b)})),b.apply(this,arguments)}function c(){return d.apply(this,arguments)}function d(){return d=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function b(){var c,d,e,f;return _regenerator["default"].wrap(function(b){for(;;)switch(b.prev=b.next){case 0:c=document.querySelectorAll(".product.tab_img160"),d=[],e=[],c.forEach(function(a){e.push(a.dataset.id),d.push("productsCode[]=".concat(a.dataset.id))}),f=a(d,1),f.then(function(a){e.forEach(function(b){var c,d=document.querySelector(".product.tab_img160[data-id=\"".concat(b,"\"]"));if(d.querySelector(".stock_yes")&&(c=d.querySelector(".stock_yes"),c.classList.remove("stock_yes")),d.querySelector(".stock_no")&&(c=d.querySelector(".stock_no"),c.classList.remove("stock_no")),a.data[b]){var g=a.data[b];if(0<g.disposition&&5>=g.disposition)c.innerHTML=g.disposition+"ks - Expedujeme ihne\u010F",c.style.cssText="font-size:18px;color:#155724;background-color:#d4edda";else if(5<g.disposition)c.innerHTML="Na sklade > 5ks - Expedujeme ihne\u010F",c.style.cssText="font-size:18px;color:#155724;background-color:#d4edda";else if(5>=g.disposition&&"undefined"!=typeof g.allStorages&&"undefined"!=typeof g.allStorages[6]&&0<g.allStorages[6].disposable_quantity)c.innerHTML="Dostupn\xE9 Showroom Liptovsk\xFD Mikul\xE1\u0161 - expedovanie v nasleduj\xFAci pracovn\xFD de\u0148",c.style.cssText="font-size:18px;color:#155724;background-color:#d4edda";else if(5>=g.disposition&&"undefined"!=typeof g.allStorages&&"undefined"!=typeof g.allStorages[5]&&0<g.allStorages[5].disposable_quantity){var e=g.allStorages[5].disposable_quantity,f="";f=0<e&&5>=e?"Na sklade ".concat(e,"ks"):"Na sklade > 5ks",c.innerHTML=f,c.style.cssText="font-size:18px;color:#155724;background-color:#d4edda"}else{var h=parseInt(g.disp_status_flag);1===h?5<parseInt(g.supp_availability)?(c.innerHTML="U dod\xE1vate\u013Ea. Dodanie 7-10 dn\xED.",c.style.cssText="font-size:18px;color:#155724;background-color:#d4edda"):(c.innerHTML="Tovar je aktu\xE1lne nedostupn\xFD. Dotazuj dostupnost.",c.style.cssText="font-size:18px"):2===h?(c.innerHTML=g.disp_status_text,c.style.cssText="font-size:18px"):3===h&&(c.innerHTML=g.disp_status_text,c.style.cssText="font-size:18px")}}})});case 6:case"end":return b.stop();}},b)})),d.apply(this,arguments)}function e(a){return new Promise(function(b){return setTimeout(b,a)})}var f=document.getElementById("categories-products-script"),g=f.getAttribute("data-url");document.querySelector(".product.tab_img160")&&c();var h=document.getElementById("centerpage");h&&(h.querySelector("a[data-page]").addEventListener("click",(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function a(){return _regenerator["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(1e3);case 2:return a.next=4,c();case 4:case"end":return a.stop();}},a)}))),h.querySelector("a[data-sorting]").addEventListener("click",(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function a(){return _regenerator["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(1e3);case 2:return a.next=4,c();case 4:case"end":return a.stop();}},a)}))),h.querySelector("input.filter_values").addEventListener("click",(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function a(){return _regenerator["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(1e3);case 2:return a.next=4,c();case 4:case"end":return a.stop();}},a)}))),h.querySelector(".cancel_filter_button").addEventListener("click",(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function a(){return _regenerator["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(1e3);case 2:return a.next=4,c();case 4:case"end":return a.stop();}},a)}))))});