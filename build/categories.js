"use strict";window.addEventListener("DOMContentLoaded",()=>{async function a(a,b=0){let c=e+a.join("&")+`&isWebareal=${b}`,d={error:0,data:null,success:!1};return await fetch(c).then(a=>a.json()).then(a=>{d={error:0,data:a,success:!0}}).catch(a=>{console.log("Error in loadProductData",a),d={error:1,data:null,success:!1}}),d}async function b(){let b=document.querySelectorAll(".product.tab_img160"),c=[],d=[];b.forEach(function(a){d.push(a.dataset.id),c.push(`productsCode[]=${a.dataset.id}`)});let e=a(c,1);e.then(a=>{d.forEach(function(b){let c=document.querySelector(`.product.tab_img160[data-id="${b}"]`),d=null;if(c&&c.querySelector(".stock_yes")&&(d=c.querySelector(".stock_yes"),d.classList.remove("stock_yes")),c&&c.querySelector(".stock_no")&&(d=c.querySelector(".stock_no"),d.classList.remove("stock_no")),d&&a.data[b]){let c=a.data[b];const e=c.supp_availability;if(0<c.disposition&&5>=c.disposition)d.innerHTML=c.disposition+"ks - Expedujeme ihne\u010F",d.style.cssText="font-size:14px;color:#34d22f";else if(5<c.disposition)d.innerHTML="Na sklade > 5ks - Expedujeme ihne\u010F",d.style.cssText="font-size:14px;color:#34d22f";else if(5>=c.disposition&&"undefined"!=typeof c.allStorages&&"undefined"!=typeof c.allStorages[6]&&0<c.allStorages[6].disposable_quantity)d.innerHTML="Dostupn\xE9 Showroom Liptovsk\xFD Mikul\xE1\u0161 - expedovanie v nasleduj\xFAci pracovn\xFD de\u0148",d.style.cssText="font-size:14px;color:#34d22f";else if(5>=c.disposition&&"undefined"!=typeof c.allStorages&&"undefined"!=typeof c.allStorages[5]&&0<c.allStorages[5].disposable_quantity){let a=c.allStorages[5].disposable_quantity,b="";b=0<a&&5>=a?`Na sklade ${a}ks`:"Na sklade > 5ks",d.innerHTML=b,d.style.cssText="font-size:14px;color:#34d22f"}else{const a=parseInt(c.disp_status_flag),b=parseInt(c.disp_status);0===b||9===b?5<parseInt(e)?(d.innerHTML=c.disp_status_text,d.style.cssText="font-size:14px;color:#34d22f"):(d.innerHTML="Tovar je aktu\xE1lne nedostupn\xFD. Dotazuj dostupnost.",d.style.cssText="font-size:14px"):2===a?(d.innerHTML=c.disp_status_text,d.style.cssText="font-size:14px"):3===a&&(d.innerHTML=c.disp_status_text,d.style.cssText="font-size:14px")}}})})}function c(a){return new Promise(b=>setTimeout(b,a))}const d=document.getElementById("categories-products-script"),e=d.getAttribute("data-url");document.querySelector(".product.tab_img160")&&setTimeout(()=>{b()},500);const f=document.getElementById("centerpage");f&&document.querySelector("#centerpage").addEventListener("click",async function(a){(a.target.classList.contains("sorting_item")||a.target.hasAttribute("data-sorting")||a.target.hasAttribute("data-page")||a.target.classList.contains("cancel_filter_button"))&&(await c(700),await b()),a.target.classList.contains("filter_values")&&"INPUT"===a.target.tagName&&(await c(700),await b())})});