"use strict";document.addEventListener("DOMContentLoaded",()=>{if(document.querySelector(".cart.cart-items")){const a=document.getElementById("cart-products-script"),b=a.getAttribute("data-url");let c=document.querySelectorAll(".product_note"),d=[],e=[];c.forEach(function(a){let b=document.createElement("tr");b.innerHTML="<td colspan='7'></td>";let c=a.name,f=a.closest("tr.leave-note"),g=c.match(/\[(.*?)\]/g),h=encodeURIComponent(g[1].replace("[","").replace("]",""));f.id=`leave-note-${h}`,b.id=`availability-${h}`,a.closest("tbody").insertBefore(b,document.getElementById("leave-note-"+h)),g[1]&&(d.push("productsCode[]="+h),e.push(h))});let f=async function(a,c=0){let d=b+a.join("&")+`&isWebareal=${c}`,e={error:0,data:null,success:!1};return await fetch(d).then(a=>a.json()).then(a=>{e={error:0,data:a,success:!0}}).catch(a=>{console.log("Error in loadProductData",a),e={error:1,data:null,success:!1}}),e}(d,1);f.then(a=>{e.forEach(function(b){let c=document.querySelector("#availability-"+b+" > td"),d=a.data[b];if(0<d.disposition&&5>=d.disposition)c.innerHTML=d.disposition+"ks - Expedujeme ihne\u010F",c.style.cssText="font-size:18px;color:#155724;background-color:#d4edda !important;display:table-cell";else if(5<d.disposition)c.innerHTML="Na sklade > 5ks - Expedujeme ihne\u010F",c.style.cssText="font-size:18px;color:#155724;background-color:#d4edda !important;display:table-cell";else if(5>=d.disposition&&"undefined"!=typeof d.allStorages&&"undefined"!=typeof d.allStorages[6]&&0<d.allStorages[6].disposable_quantity)c.innerHTML="Dostupn\xE9 Showroom Liptovsk\xFD Mikul\xE1\u0161 - expedovanie v nasleduj\xFAci pracovn\xFD de\u0148",c.style.cssText="font-size:18px;color:#155724;background-color:#d4edda !important;display:table-cell";else if(5>=d.disposition&&"undefined"!=typeof d.allStorages&&"undefined"!=typeof d.allStorages[5]&&0<d.allStorages[5].disposable_quantity){let a=d.allStorages[5].disposable_quantity,b="";b=0<a&&5>=a?"Na sklade "+a+"ks":"Na sklade > 5ks",c.innerHTML=b,c.style.cssText="font-size:18px;color:#155724;background-color:#d4edda !important;display:table-cell"}else{let a=parseInt(d.disp_status_flag);1===a?5<parseInt(d.supp_availability)?(c.innerHTML=d.disp_status_text,c.style.cssText="font-size:18px;color:#155724;background-color:#d4edda !important;display:table-cell"):(c.innerHTML="Tovar je aktu\xE1lne nedostupn\xFD. Dotazuj dostupnos\u0165.",c.style.cssText="font-size:18px;display:table-cell"):2===a?(c.innerHTML=d.disp_status_text,c.style.cssText="font-size:18px;display:table-cell"):3===a&&(c.innerHTML=d.disp_status_text,c.style.cssText="font-size:18px;display:table-cell")}})})}});