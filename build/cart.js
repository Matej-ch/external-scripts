"use strict";function asyncGeneratorStep(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function _asyncToGenerator(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function f(a){asyncGeneratorStep(h,d,e,f,g,"next",a)}function g(a){asyncGeneratorStep(h,d,e,f,g,"throw",a)}var h=a.apply(b,c);f(void 0)})}}document.addEventListener("DOMContentLoaded",function(){if(document.querySelector(".cart.cart-items")){var a=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(a){var c,d,e,f=arguments;return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c=1<f.length&&void 0!==f[1]?f[1]:0,d="URL PRODUCT DATA LOADING HERE"+a.join("&")+"&isWebareal="+c,e={error:0,data:null,success:!1},b.next=5,fetch(d).then(function(a){return a.json()}).then(function(a){e={error:0,data:a,success:!0}})["catch"](function(a){console.log("Error in loadProductData",a),e={error:1,data:null,success:!1}});case 5:return b.abrupt("return",e);case 6:case"end":return b.stop();}},b)}));return function(){return a.apply(this,arguments)}}(),b=document.querySelectorAll(".product_note"),c=[],d=[];b.forEach(function(a){var b=document.createElement("tr");b.innerHTML="<td colspan='7'></td>";var e=a.name,f=a.closest("tr.leave-note"),g=e.match(/\\\[(.*?)\\\]/g),h=encodeURIComponent(g[1].replace("[","").replace("]",""));f.id="leave-note-"+h,b.id="availability-"+h,a.closest("tbody").insertBefore(b,document.getElementById("leave-note-"+h)),g[1]&&(c.push("productsCode[]="+h),d.push(h))});var e=a(c,1);e.then(function(a){d.forEach(function(b){var c=document.querySelector("#availability-"+b+" > td"),d=a.data[b];if(0<d.disposition&&5>=d.disposition)c.innerHTML=d.disposition+"ks - Expedujeme ihne\u010F",c.style.cssText="font-size:18px;color:#155724;background-color:#d4edda !important;display:table-cell";else if(5<d.disposition)c.innerHTML="Na sklade > 5ks - Expedujeme ihne\u010F",c.style.cssText="font-size:18px;color:#155724;background-color:#d4edda !important;display:table-cell";else if(5>=d.disposition&&"undefined"!=typeof d.allStorages&&"undefined"!=typeof d.allStorages[6]&&0<d.allStorages[6].disposable_quantity)c.innerHTML="Dostupn\xE9 Showroom Liptovsk\xFD Mikul\xE1\u0161 - expedovanie v nasleduj\xFAci pracovn\xFD de\u0148",c.style.cssText="font-size:18px;color:#155724;background-color:#d4edda !important;display:table-cell";else if(5>=d.disposition&&"undefined"!=typeof d.allStorages&&"undefined"!=typeof d.allStorages[5]&&0<d.allStorages[5].disposable_quantity){var e=d.allStorages[5].disposable_quantity,f="";f=0<e&&5>=e?"Na sklade "+e+"ks":"Na sklade > 5ks",c.innerHTML=f,c.style.cssText="font-size:18px;color:#155724;background-color:#d4edda !important;display:table-cell"}else{var g=parseInt(d.disp_status_flag);1===g?5<parseInt(d.supp_availability)?(c.innerHTML=d.disp_status_text,c.style.cssText="font-size:18px;color:#155724;background-color:#d4edda !important;display:table-cell"):(c.innerHTML="Tovar je aktu\xE1lne nedostupn\xFD. Dotazuj dostupnost.",c.style.cssText="font-size:18px;display:table-cell"):2===g?(c.innerHTML=d.disp_status_text,c.style.cssText="font-size:18px;display:table-cell"):3===g&&(c.innerHTML=d.disp_status_text,c.style.cssText="font-size:18px;display:table-cell")}})})}});